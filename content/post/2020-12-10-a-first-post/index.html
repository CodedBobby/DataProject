---
title: Volcano
author: ~
date: '2020-12-13'
slug: A-first-post
categories: []
tags: []
---

<link href="index_files/anchor-sections/anchor-sections.css" rel="stylesheet" />
<script src="index_files/anchor-sections/anchor-sections.js"></script>


<p>Using the volcano data from tinytuesday I will investigate volcanic eruptions and the affect they have on the environment. I will use the volcano, eruptions and sulfur datasets in order to explore this. The volcano dataset contains the variables</p>
<pre class="r"><code>dat1 &lt;- read.csv(here::here(&quot;content&quot;, &quot;post&quot;, &quot;2020-12-10-a-first-post&quot;, &quot;data&quot;, 
    &quot;volcano.csv&quot;))
dat2 &lt;- read.csv(here::here(&quot;content&quot;, &quot;post&quot;, &quot;2020-12-10-a-first-post&quot;, &quot;data&quot;, 
    &quot;eruptions.csv&quot;))
dat3 &lt;- read.csv(here::here(&quot;content&quot;, &quot;post&quot;, &quot;2020-12-10-a-first-post&quot;, &quot;data&quot;, 
    &quot;events.csv&quot;))
dat4 &lt;- read.csv(here::here(&quot;content&quot;, &quot;post&quot;, &quot;2020-12-10-a-first-post&quot;, &quot;data&quot;, 
    &quot;sulfur.csv&quot;))</code></pre>
<div id="question-1" class="section level1">
<h1>Question 1:</h1>
<p>To what extent does a volcano eruption impact the atmosphere? To explore this I will attempt to determine the relation between major volcanic eruptions (defined here as any eruption with a vei of 4 or higher) and spikes in sulfur levels in both Greenland and Antartica.</p>
<pre class="r"><code>filtered &lt;- dat1 %&gt;% 
left_join(dat2, by = c(&quot;volcano_number&quot;, &quot;volcano_name&quot;, &quot;longitude&quot;, &quot;latitude&quot;)) %&gt;% 
    
filter(vei &gt;= 4, start_year &gt;= 500, start_year &lt;= 706)
ggplot() + 
geom_line(data = dat4, aes(year, neem, color = &quot;blue&quot;)) + 
geom_line(data = dat4, aes(year, wdc, color = &quot;red&quot;)) + 
geom_point(data = filtered, aes(start_year, 0)) + 
scale_color_manual(name = &quot;Location of Ice Cores&quot;, labels = c(&quot;Greenland&quot;, &quot;Antartica&quot;), 
    values = c(blue = &quot;blue&quot;, red = &quot;red&quot;)) + 
ylab(&quot;Sulfur (ng/g)&quot;) + 
xlab(&quot;Year&quot;) + 
ggtitle(&quot;Year vs Sulfur&quot;)</code></pre>
<pre><code>## Warning: Removed 290 rows containing missing values (geom_path).

## Warning: Removed 290 rows containing missing values (geom_path).</code></pre>
<p><img src="index_files/figure-html/unnamed-chunk-3-1.png" width="672" /></p>
</div>
<div id="question-2" class="section level1">
<h1>Question 2:</h1>
<p>Are there any areas currently at risk from volcano eruptions?</p>
<pre class="r"><code>dat1 %&gt;% 
left_join(dat2, by = c(&quot;volcano_number&quot;, &quot;volcano_name&quot;, &quot;longitude&quot;, &quot;latitude&quot;)) %&gt;% 
    
group_by(volcano_name, volcano_number) %&gt;% 
filter(start_year &gt;= 1800, start_year == max(start_year)) %&gt;% 
select(region, longitude, latitude) %&gt;% 
ggplot(aes(longitude, latitude)) + 
geom_point() + 
borders(&quot;world&quot;) + 
coord_quickmap() + 
ggtitle(&quot;Location of Recently Erupted Volcanoes&quot;)</code></pre>
<pre><code>## Adding missing grouping variables: `volcano_name`, `volcano_number`</code></pre>
<p><img src="index_files/figure-html/unnamed-chunk-4-1.png" width="672" /></p>
</div>
<div id="question-3" class="section level1">
<h1>Question 3:</h1>
<p>What volcanoes have erupted the most often?</p>
<pre class="r"><code>dat1 %&gt;% 
left_join(dat2, by = c(&quot;volcano_number&quot;, &quot;volcano_name&quot;, &quot;longitude&quot;, &quot;latitude&quot;)) %&gt;% 
    
group_by(volcano_number, volcano_name) %&gt;% 
summarize(total = n()) %&gt;% 
ungroup() %&gt;% 
slice_max(total, n = 10)</code></pre>
<pre><code>## `summarise()` regrouping output by &#39;volcano_number&#39; (override with `.groups` argument)</code></pre>
<pre><code>## # A tibble: 10 x 3
##    volcano_number volcano_name           total
##             &lt;int&gt; &lt;fct&gt;                  &lt;int&gt;
##  1         211060 Etna                     241
##  2         233020 Fournaise, Piton de la   194
##  3         282110 Asosan                   186
##  4         357120 Villarrica               164
##  5         283110 Asamayama                147
##  6         372030 Katla                    132
##  7         300260 Klyuchevskoy             111
##  8         263250 Merapi                   110
##  9         332020 Mauna Loa                110
## 10         284010 Izu-Oshima               108</code></pre>
</div>
