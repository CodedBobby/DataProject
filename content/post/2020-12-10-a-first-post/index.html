---
title: Volcano
author: ~
date: '2020-12-13'
slug: A-first-post
categories: []
tags: []
---

<link href="index_files/anchor-sections/anchor-sections.css" rel="stylesheet" />
<script src="index_files/anchor-sections/anchor-sections.js"></script>


<p>Using the volcano data from tinytuesday I will investigate volcanic eruptions and the affect they have on the environment. I will use the volcano, eruptions and sulfur datasets in order to explore this. The volcano dataset contains the variables volcano_number and volcano_name, which can be used to identify the volcanoes, population_within_5_km, which is the number of people within 5 kilometers of the volcano, latitude and longitude, doubles which can show where the volcanoes are and primary_volcano_type, a factor with 26 levels which shows what types the volcanoes are. The sulfur dataset contains the variables neem, which is the sulfur detected in ng/g from melting ice cores in Greenland, wdc, which is the sulfur detected in ng/g from melting ice cores in Antarctica, and Year, which is the year in CE that the ice cores were formed.</p>
<pre class="r"><code>dat1 &lt;- read.csv(here::here(&quot;content&quot;, &quot;post&quot;, &quot;2020-12-10-a-first-post&quot;, &quot;data&quot;, 
    &quot;volcano.csv&quot;))
dat2 &lt;- read.csv(here::here(&quot;content&quot;, &quot;post&quot;, &quot;2020-12-10-a-first-post&quot;, &quot;data&quot;, 
    &quot;eruptions.csv&quot;))
dat3 &lt;- read.csv(here::here(&quot;content&quot;, &quot;post&quot;, &quot;2020-12-10-a-first-post&quot;, &quot;data&quot;, 
    &quot;events.csv&quot;))
dat4 &lt;- read.csv(here::here(&quot;content&quot;, &quot;post&quot;, &quot;2020-12-10-a-first-post&quot;, &quot;data&quot;, 
    &quot;sulfur.csv&quot;))</code></pre>
<div id="question-1" class="section level1">
<h1>Question 1:</h1>
<p>To what extent does a volcano eruption impact the atmosphere? To explore this I will attempt to determine the relation between major volcanic eruptions (defined here as any eruption with a vei of 4 or higher) and spikes in sulfur levels in both Greenland and Antarctica. I will do this by creating a line graph with sulfur concentrations and plotting the major volcanic eruptions as dots on the date they occurred.</p>
<pre class="r"><code>filtered &lt;- dat1 %&gt;% 
left_join(dat2, by = c(&quot;volcano_number&quot;, &quot;volcano_name&quot;, &quot;longitude&quot;, &quot;latitude&quot;)) %&gt;% 
    
filter(vei &gt;= 4, start_year &gt;= 500, start_year &lt;= 706)
ggplot() + 
geom_line(data = dat4, aes(year, neem, color = &quot;blue&quot;)) + 
geom_line(data = dat4, aes(year, wdc, color = &quot;red&quot;)) + 
geom_point(data = filtered, aes(start_year, 0)) + 
scale_color_manual(name = &quot;Location of Ice Cores&quot;, labels = c(&quot;Greenland&quot;, &quot;Antarctica&quot;), 
    values = c(blue = &quot;blue&quot;, red = &quot;red&quot;)) + 
ylab(&quot;Sulfur (ng/g)&quot;) + 
xlab(&quot;Year&quot;) + 
ggtitle(&quot;Year vs Sulfur&quot;)</code></pre>
<pre><code>## Warning: Removed 290 rows containing missing values (geom_path).

## Warning: Removed 290 rows containing missing values (geom_path).</code></pre>
<p><img src="index_files/figure-html/unnamed-chunk-3-1.png" width="672" />
Most major volcanic eruptions seem to coincide with a large spike in sulfur concentration in either Greenland or Antarctica. However, not all major volcanic eruptions seem to cause a spike in sulfur levels, which could possibly be because these volcanoes are too far away and lack the power to affect Greenland and Antarctica. This suggests the impact most volcanic eruptions can have on the atmosphere is limited and significantly decreases as distance increases. However, within their range, volcanoes seem to have a large, although temporary affect on the atmosphere.</p>
</div>
<div id="question-2" class="section level1">
<h1>Question 2:</h1>
<p>Are there any areas where a large amount of people live that are currently at risk from volcano eruptions and how many people are living near it? To determine this, I will create a map of the various volcanoes around the world with populations of at least 1000 people within 5 kilometers of it and color them based on the total population within 5 kilometers.</p>
<pre class="r"><code>dat1 %&gt;% 
left_join(dat2, by = c(&quot;volcano_number&quot;, &quot;volcano_name&quot;, &quot;longitude&quot;, &quot;latitude&quot;)) %&gt;% 
    
group_by(volcano_name, volcano_number) %&gt;% 
filter(start_year &gt;= 1800, start_year == max(start_year), population_within_5_km &gt;= 
    1000) %&gt;% 
select(region, longitude, latitude, population_within_5_km) %&gt;% 
ggplot(aes(longitude, latitude, color = population_within_5_km/1e+06)) + 
geom_point() + 
borders(&quot;world&quot;) + 
coord_quickmap() + 
ggtitle(&quot;Locations of Recently Erupted Volcanoes with nearby People&quot;) + 
theme(legend.position = &quot;bottom&quot;) + 
scale_color_gradient(name = &quot;Population within 5 km (Millions)&quot;, low = &quot;blue&quot;, high = &quot;red&quot;)</code></pre>
<p><img src="index_files/figure-html/unnamed-chunk-4-1.png" width="672" />
Most of the active volcanoes seem to be located on the coasts of continents. For one of these volcanoes in Mexico there are about 5 million people living within 5 kilometers of it which could be hazardous for the many people living there if it erupts again.</p>
</div>
<div id="question-3" class="section level1">
<h1>Question 3:</h1>
<p>What volcanoes have erupted the most often?</p>
<pre class="r"><code>dat1 %&gt;% 
left_join(dat2, by = c(&quot;volcano_number&quot;, &quot;volcano_name&quot;, &quot;longitude&quot;, &quot;latitude&quot;)) %&gt;% 
    
group_by(volcano_number, volcano_name) %&gt;% 
summarize(total = n()) %&gt;% 
ungroup() %&gt;% 
slice_max(total, n = 10)</code></pre>
<pre><code>## # A tibble: 10 x 3
##    volcano_number volcano_name           total
##             &lt;int&gt; &lt;fct&gt;                  &lt;int&gt;
##  1         211060 Etna                     241
##  2         233020 Fournaise, Piton de la   194
##  3         282110 Asosan                   186
##  4         357120 Villarrica               164
##  5         283110 Asamayama                147
##  6         372030 Katla                    132
##  7         300260 Klyuchevskoy             111
##  8         263250 Merapi                   110
##  9         332020 Mauna Loa                110
## 10         284010 Izu-Oshima               108</code></pre>
</div>
<div id="conclusion" class="section level1">
<h1>Conclusion:</h1>
</div>
